<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Radar Distribuidora - Sistema 432 Itens</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #f1f5f9; }
        .modal { display: none; position: fixed; z-index: 100; left: 0; top: 0; width: 100%; height: 100%; background: rgba(15, 23, 42, 0.9); backdrop-filter: blur(8px); }
        .modal-content { background: white; margin: 2% auto; padding: 20px; width: 95%; max-width: 900px; border-radius: 30px; max-height: 90vh; overflow-y: auto; }
        .img-container { width: 100%; height: 120px; background: #fff; border-radius: 20px; display: flex; align-items: center; justify-content: center; }
        .img-produto { max-width: 100%; max-height: 100%; object-fit: contain; }
        .aba-ativa { background-color: #2563eb !important; color: white !important; }
        
        @media print {
            body * { visibility: hidden; background: white !important; }
            #historico-vendas, #historico-vendas * { visibility: visible; }
            #historico-vendas { position: absolute; left: 0; top: 0; width: 100%; }
            .no-print { display: none !important; }
            .print-header { display: block !important; visibility: visible !important; border-bottom: 3px solid #000; padding-bottom: 10px; margin-bottom: 20px; text-align: center; }
            .print-header * { visibility: visible !important; }
        }
    </style>
</head>
<body class="pb-80">

    <div class="print-header hidden">
        <h1 style="font-size: 28px; font-weight: 900; margin-bottom: 0;">RADAR DISTRIBUIDORA</h1>
        <p style="font-size: 14px; font-weight: 700; text-transform: uppercase;">Relat√≥rio de Separa√ß√£o e Confer√™ncia</p>
    </div>

    <header class="bg-blue-600 text-white p-6 sticky top-0 z-50 shadow-2xl flex justify-between items-center rounded-b-[40px] no-print">
        <div>
            <h1 class="text-2xl font-black italic uppercase tracking-tighter">RADAR <span class="font-extralight text-blue-200">DISTRIBUIDORA</span></h1>
            <p class="text-[10px] font-bold opacity-70">SISTEMA INTEGRADO - 432 ITENS</p>
        </div>
        <button onclick="fazerLogin()" class="bg-blue-700 p-3 rounded-2xl text-[10px] font-black uppercase shadow-inner">Painel ADM</button>
    </header>

    <main class="container mx-auto p-4 max-w-6xl no-print">
        <div class="relative my-8">
            <input type="text" id="busca" oninput="filtrar()" placeholder="Procurar produto ou refer√™ncia..." 
                class="w-full p-6 pl-14 bg-white border-none rounded-3xl shadow-xl focus:ring-4 focus:ring-blue-400 outline-none text-lg">
            <span class="absolute left-6 top-6 text-xl opacity-30">üîç</span>
        </div>
        <div id="vitrine" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4"></div>
    </main>

    <div id="modalAdmin" class="modal no-print">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-6 border-b pb-4">
                <h2 class="text-2xl font-black text-slate-800 italic uppercase">Gest√£o Radar</h2>
                <button onclick="fecharAdmin()" class="bg-slate-100 p-3 rounded-full">‚úï</button>
            </div>
            
            <div class="flex gap-2 mb-8 border-b pb-3 overflow-x-auto">
                <button onclick="mudarAba('produtos')" id="btn-produtos" class="aba-btn aba-ativa px-6 py-3 rounded-2xl font-black text-xs uppercase">Produtos</button>
                <button onclick="mudarAba('vendas')" id="btn-vendas" class="aba-btn bg-slate-100 text-slate-500 px-6 py-3 rounded-2xl font-black text-xs uppercase">Vendas</button>
            </div>

            <div id="aba-produtos" class="secao-aba">
                <div id="lista-edicao" class="space-y-2 max-h-[500px] overflow-y-auto pr-2"></div>
            </div>

            <div id="aba-vendas" class="secao-aba hidden">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="font-black text-slate-700 uppercase italic">Hist√≥rico</h3>
                    <button onclick="window.print()" class="bg-black text-white px-6 py-3 rounded-2xl text-[10px] font-black uppercase">üñ®Ô∏è Imprimir</button>
                </div>
                <div id="historico-vendas" class="space-y-6"></div>
            </div>

            <button onclick="exportarDados()" class="w-full bg-blue-600 text-white py-6 mt-8 rounded-3xl font-black uppercase shadow-2xl">SALVAR TUDO E ATUALIZAR SITE</button>
        </div>
    </div>

    <div class="fixed bottom-0 left-0 right-0 bg-white/90 backdrop-blur-xl border-t p-6 shadow-2xl z-40 rounded-t-[50px] no-print">
        <div class="container mx-auto max-w-5xl">
            <div class="grid grid-cols-2 gap-4 mb-4">
                <input type="text" id="cliente_nome" placeholder="Nome da Loja" class="p-4 rounded-2xl bg-slate-100 font-bold outline-none">
                <input type="text" id="cliente_end" placeholder="Cidade" class="p-4 rounded-2xl bg-slate-100 font-bold outline-none">
            </div>
            <div class="flex justify-between items-center">
                <div>
                    <span class="text-slate-400 text-[10px] font-black uppercase">Subtotal</span>
                    <p id="total-geral" class="text-4xl font-black text-blue-600 italic">R$ 0,00</p>
                </div>
                <button onclick="enviarWhatsApp()" class="bg-green-500 text-white px-10 py-5 rounded-[30px] font-black uppercase shadow-xl hover:scale-105 transition-all">Enviar Pedido</button>
            </div>
        </div>
    </div>

    <script>
        const FONE = "5547997691722";
        const CHAVE_PIX = "09782307440";
        const SENHA_MESTRA = "1234";

        // COLOQUE SEUS NOMES AQUI PARA IMPORTAR EM MASSA (OPCIONAL)
        let listaNomes = [
            "ABS COTTON LINE C/16 SUAVE C/ABAS", 
            "ABS COTTON LINE C/8 SECA C/ ABAS",
            "ABS COTTON LINE C/8 SECA S/ ABAS",
            "ABS COTTON LINE C/8 SUAVE C/ ABAS",
            "ABS COTTON LINE C/8 SUAVE S/ ABAS",
            "ABS COTTONBABY LADY C/16UN SUAVE C/ ABAS",
            "ABS INTERNO INTIMUS MEDIO C/8",
            "ABS INTIMUS C/32 SUAVE C/ ABAS"
            // Continue colando seus nomes aqui...
        ];

        let produtos = [];
        // Criando os 432 itens
        for (let i = 1; i <= 432; i++) {
            produtos.push({
                id: i.toString(),
                desc: listaNomes[i-1] || "PRODUTO REF " + i,
                preco: 0.00,
                img: ""
            });
        }

        let carrinho = {};
        let historicoVendas = [];

        function renderizar(itens = produtos) {
            const vitrine = document.getElementById('vitrine');
            vitrine.innerHTML = itens.map(p => `
                <div class="bg-white p-4 rounded-[30px] shadow-lg flex flex-col justify-between hover:scale-[1.02] transition-all">
                    <div class="img-container"><img src="${p.img || 'https://via.placeholder.com/150?text=Radar'}" class="img-produto"></div>
                    <div class="mt-4">
                        <p class="text-[7px] font-black text-blue-500 uppercase">REF: ${p.id}</p>
                        <h3 class="font-bold text-slate-800 text-[10px] uppercase h-8 overflow-hidden">${p.desc}</h3>
                        <p class="text-blue-600 font-black text-xl mt-1 italic text-right">R$ ${p.preco.toFixed(2).replace('.', ',')}</p>
                    </div>
                    <div class="flex items-center justify-between bg-slate-50 p-1 rounded-2xl mt-2 border">
                        <button onclick="mudarQtd('${p.id}', -1)" class="w-8 h-8 bg-white rounded-xl shadow font-black text-red-500">-</button>
                        <input type="number" id="qtd-${p.id}" value="${carrinho[p.id] || 0}" class="w-10 bg-transparent text-center font-black text-sm outline-none" readonly>
                        <button onclick="mudarQtd('${p.id}', 1)" class="w-8 h-8 bg-white rounded-xl shadow font-black text-green-500">+</button>
                    </div>
                </div>
            `).join('');
            atualizarTotal();
        }

        function mudarQtd(id, delta) {
            carrinho[id] = (carrinho[id] || 0) + delta;
            if (carrinho[id] < 0) carrinho[id] = 0;
            const input = document.getElementById(`qtd-${id}`);
            if(input) input.value = carrinho[id];
            atualizarTotal();
        }

        function atualizarTotal() {
            let total = 0;
            produtos.forEach(p => total += (carrinho[p.id] || 0) * p.preco);
            document.getElementById('total-geral').innerText = `R$ ${total.toFixed(2).replace('.', ',')}`;
        }

        function mudarAba(aba) {
            document.querySelectorAll('.secao-aba').forEach(s => s.classList.add('hidden'));
            document.querySelectorAll('.aba-btn').forEach(b => b.classList.remove('aba-ativa', 'bg-blue-600', 'text-white'));
            document.getElementById('aba-' + aba).classList.remove('hidden');
            document.getElementById('btn-' + aba).classList.add('aba-ativa');
            if(aba === 'vendas') renderVendas();
        }

        function renderVendas() {
            const container = document.getElementById('historico-vendas');
            container.innerHTML = historicoVendas.map(v => `
                <div class="p-6 bg-white border-2 border-slate-300 rounded-[30px] mb-4">
                    <div class="flex justify-between border-b pb-2 mb-2 font-black text-[10px]">
                        <span>DATA: ${v.data}</span>
                        <span class="text-blue-600 uppercase">CLIENTE: ${v.cliente}</span>
                    </div>
                    <div class="text-[11px] font-bold">${v.resumoItens.replace(/\n/g, '<br>')}</div>
                    <div class="mt-4 pt-2 border-t text-right font-black text-lg">TOTAL: R$ ${v.total}</div>
                </div>
            `).join('');
        }

        function enviarWhatsApp() {
            const nome = document.getElementById('cliente_nome').value;
            const end = document.getElementById('cliente_end').value;
            const total = document.getElementById('total-geral').innerText;
            if(!nome || !end) return alert("Preencha Nome e Cidade!");
            
            let msg = `*PEDIDO RADAR DISTRIBUIDORA*\n\nüë§ *CLIENTE:* ${nome}\nüìç *CIDADE:* ${end}\n\n*ITENS:*\n`;
            let resumoVenda = "";
            produtos.forEach(p => { 
                if(carrinho[p.id] > 0) { 
                    let linha = `‚úÖ ${carrinho[p.id]}x ${p.desc}\n`;
                    msg += linha; resumoVenda += linha;
                }
            });

            msg += `\nüí∞ *TOTAL: ${total}*`;
            msg += `\n\nüîë *PIX PARA PAGAMENTO:* \`${CHAVE_PIX}\``;

            historicoVendas.unshift({ data: new Date().toLocaleString(), cliente: nome, total: total.replace('R$ ', ''), resumoItens: resumoVenda });
            window.open(`https://wa.me/${FONE}?text=${encodeURIComponent(msg)}`);
        }

        function abrirAdmin() {
            const lista = document.getElementById('lista-edicao');
            lista.innerHTML = produtos.map((p, i) => `
                <div class="flex items-center gap-2 bg-slate-50 p-2 rounded-xl border mb-1">
                    <span class="text-[9px] font-black w-6">${p.id}</span>
                    <input type="text" value="${p.img}" onchange="produtos[${i}].img=this.value" placeholder="URL Imagem" class="w-16 p-1 text-[9px] rounded border">
                    <input type="text" value="${p.desc}" onchange="produtos[${i}].desc=this.value" class="flex-1 p-1 text-[9px] font-bold uppercase border-none bg-transparent">
                    <input type="number" step="0.01" value="${p.preco}" onchange="produtos[${i}].preco=parseFloat(this.value)" class="w-16 p-1 text-right font-black text-blue-600 text-[10px]">
                </div>
            `).join('');
            document.getElementById('modalAdmin').style.display = 'block';
        }

        function exportarDados() {
            let html = document.documentElement.outerHTML;
            html = html.replace(/let produtos = \[[\s\S]*?\];/, `let produtos = ${JSON.stringify(produtos)};`);
            html = html.replace(/let historicoVendas = \[[\s\S]*?\];/, `let historicoVendas = ${JSON.stringify(historicoVendas)};`);
            const a = document.createElement("a");
            a.href = URL.createObjectURL(new Blob([html], {type: 'text/html'}));
            a.download = 'radar_distribuidora.html';
            a.click();
        }

        function filtrar() {
            const t = document.getElementById('busca').value.toLowerCase();
            renderizar(produtos.filter(p => p.desc.toLowerCase().includes(t)));
        }

        function fazerLogin() { if(prompt("Senha:") === SENHA_MESTRA) abrirAdmin(); }
        function fecharAdmin() { document.getElementById('modalAdmin').style.display='none'; renderizar(); }

        renderizar();
    </script>
</body>
</html>
